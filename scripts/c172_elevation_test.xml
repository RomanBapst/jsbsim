<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSimScript.xsl"?>
<runscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sf.net/JSBSimScript.xsd"
    name="C172-01A takeoff elevation test">
  <!--
    This run is for testing the C172 at different takeoff elevations.
    
    The run begins with the brakes set on all wheels. The engine is started
    and the heading hold autopilot mode is set. At 2.0 seconds the brakes are
    released and the rollout begins. The flaps are set to 32%, which is
    10 degrees.
  -->

  <use aircraft="c172x" initialize="reset00"/>
  <run start="0.0" end="1000" dt="0.0083333">

    <property> simulation/notify-time-trigger </property>
    <property value="1"> simulation/run_id </property>
    <property value="1"> fcs/left-brake-cmd-norm </property>
    <property value="1"> fcs/right-brake-cmd-norm </property>
    <property value="1"> fcs/center-brake-cmd-norm </property>

    <event name="engine start">
      <description>Start the engine</description>
      <condition> simulation/sim-time-sec >= 0.25 </condition>
      <set name="fcs/throttle-cmd-norm" value="0.01" action="FG_RAMP" tc ="0.5"/>
      <set name="fcs/mixture-cmd-norm" value="1.00" action="FG_RAMP" tc ="0.5"/>
      <set name="propulsion/magneto_cmd" value="3"/>
      <set name="propulsion/starter_cmd" value="1"/>
    </event>

    <event name="Begin roll">
      <description>Release brakes and get rolling with flaps at 10 degrees. </description>
      <condition> simulation/sim-time-sec >= 20.0 </condition>
      <set name="fcs/left-brake-cmd-norm" value="0"/>
      <set name="fcs/right-brake-cmd-norm" value="0"/>
      <set name="fcs/center-brake-cmd-norm" value="0"/>
      <set name="fcs/flap-cmd-norm" value="0.33"/>
    </event>

  </run>
</runscript>
